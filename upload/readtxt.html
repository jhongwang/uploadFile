<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>测试读取文件</title>
</head>
<body>
<div id="showTxt">
	<table width= "100%">
		<thead>
			 <tr>
			 	<th>标题1</th>
			 	<th>标题2</th>
			 	<th>标题3</th>
			 	<th>标题4</th>
			 </tr>
		</thead>
		<tbody id="showTxtTbody"></tbody>
	</table>
</div>
<script type="text/javascript">
window.onload = function(){
	/*var script = document.createElement('script');
	script.src="http://192.168.56.1/works/aaa.txt";
	document.body.appendChild(script);*/
	function Ajax(){
		//随便用用的ajax读取函数
		//Author: 扎俊
		//Email:men_779@126.com
		//Question: 
		 
		 this.url=arguments[0]||"";
		 this.callback=arguments[1]||callAjaxBack;
		 this.method=arguments[2]||"GET";
		var xThis=this; 
		 function callAjaxBack(){}
		 var xmlHttp;
		  try{
		    // Firefox, Opera 8.0+, Safari
		  xmlHttp=new XMLHttpRequest();
		  }
		  catch (e){ 
		   // Internet Explorer
		    try
		    {
		    xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
		    }
		    catch (e){
		  
		    try
		    {
		    xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
		    }
		    catch (e){
		    alert("Some Error Detected!");
		    return null;
		    }
		    }
		  }
		    
		    xmlHttp.onreadystatechange=function()
		      {
		   if(xmlHttp.readyState==4)
		        {
		     xThis.callback(xmlHttp.responseText);
		     }
		      }
		    xmlHttp.open(this.method.toUpperCase(),this.url,false);
		    xmlHttp.send(null);
    } 
Ajax("http://192.168.56.1/works/top_random_result1.log",showTxtPre);
function showTxtPre(txtData){
    console.log(txtData)
    var bod = document.getElementById('showTxtTbody');
    /*var arr = txtData.split(' ');
    console.log(arr)*/
  //t=txtData.replace(/\s+/g,'').replace(/\r\n/g,'').replace(/　　/g,'').substr(1,2000);
  //在上面这句最后的substr的参数里设定需要开始的位置和字数。
  //演示的是从1开始，取2000个除掉空白和换行外的字符。
  document.getElementById("showTxt").innerHTML=txtData;
}
//console.log(document.getElementById("showTxt").innerHTML)
}
</script>
</body>
</html><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>测试读取文件</title>
</head>
<body>
<div id="showTxt">
	<table width= "100%">
		<thead>
			 <tr>
			 	<th>标题1</th>
			 	<th>标题2</th>
			 	<th>标题3</th>
			 	<th>标题4</th>
			 </tr>
		</thead>
		<tbody id="showTxtTbody"></tbody>
	</table>
</div>
<script type="text/javascript">
window.onload = function(){
	/*var script = document.createElement('script');
	script.src="http://192.168.56.1/works/aaa.txt";
	document.body.appendChild(script);*/
	function Ajax(){
		//随便用用的ajax读取函数
		//Author: 扎俊
		//Email:men_779@126.com
		//Question: 
		 
		 this.url=arguments[0]||"";
		 this.callback=arguments[1]||callAjaxBack;
		 this.method=arguments[2]||"GET";
		var xThis=this; 
		 function callAjaxBack(){}
		 var xmlHttp;
		  try{
		    // Firefox, Opera 8.0+, Safari
		  xmlHttp=new XMLHttpRequest();
		  }
		  catch (e){ 
		   // Internet Explorer
		    try
		    {
		    xmlHttp=new ActiveXObject("Msxml2.XMLHTTP");
		    }
		    catch (e){
		  
		    try
		    {
		    xmlHttp=new ActiveXObject("Microsoft.XMLHTTP");
		    }
		    catch (e){
		    alert("Some Error Detected!");
		    return null;
		    }
		    }
		  }
		    
		    xmlHttp.onreadystatechange=function()
		      {
		   if(xmlHttp.readyState==4)
		        {
		     xThis.callback(xmlHttp.responseText);
		     }
		      }
		    xmlHttp.open(this.method.toUpperCase(),this.url,false);
		    xmlHttp.send(null);
    } 
Ajax("http://192.168.56.1/works/top_random_result1.log",showTxtPre);
function showTxtPre(txtData){
    console.log(txtData)
    var bod = document.getElementById('showTxtTbody');
    /*var arr = txtData.split(' ');
    console.log(arr)*/
  //t=txtData.replace(/\s+/g,'').replace(/\r\n/g,'').replace(/　　/g,'').substr(1,2000);
  //在上面这句最后的substr的参数里设定需要开始的位置和字数。
  //演示的是从1开始，取2000个除掉空白和换行外的字符。
  document.getElementById("showTxt").innerHTML=txtData;
}
//console.log(document.getElementById("showTxt").innerHTML)
}
</script>
</body>
</html>